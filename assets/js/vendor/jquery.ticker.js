!function(e){e.fn.ticker=function(t){var o=e.extend({},e.fn.ticker.defaults,t);if(0==e(this).length)return window.console&&window.console.log?window.console.log("Element does not exist in DOM!"):alert("Element does not exist in DOM!"),!1;var n="#"+e(this).attr("id"),d=e(this).get(0).tagName;return this.each(function(){var t=(new Date).getTime(),i={position:0,time:0,distance:0,newsArr:{},play:!0,paused:!1,contentLoaded:!1,dom:{contentID:"#ticker-content-"+t,titleID:"#ticker-title-"+t,titleElem:"#ticker-title-"+t+" SPAN",tickerID:"#ticker-"+t,wrapperID:"#ticker-wrapper-"+t,revealID:"#ticker-swipe-"+t,revealElem:"#ticker-swipe-"+t+" SPAN",controlsID:"#ticker-controls-"+t,prevID:"#prev-"+t,nextID:"#next-"+t,playPauseID:"#play-pause-"+t}};if("UL"!=d&&"OL"!=d&&!0===o.htmlFeed)return r("Cannot use <"+d.toLowerCase()+"> type of element for this plugin - must of type <ul> or <ol>"),!1;function s(e){var t,o=0;for(t in e)e.hasOwnProperty(t)&&o++;return o}function r(e){o.debugMode&&(window.console&&window.console.log?window.console.log(e):alert(e))}function a(){i.contentLoaded=!0,e(i.dom.titleElem).html(i.newsArr["item-"+i.position].type),e(i.dom.contentID).html(i.newsArr["item-"+i.position].content),i.position==s(i.newsArr)-1?i.position=0:i.position++,time=(distance=e(i.dom.contentID).width())/o.speed,function t(){if(e(i.dom.contentID).css("opacity","1"),!i.play)return!1;var n=e(i.dom.titleID).width()+20;e(i.dom.revealID).css(o.direction,n+"px"),"fade"==o.displayType?e(i.dom.revealID).hide(0,function(){e(i.dom.contentID).css(o.direction,n+"px").fadeIn(o.fadeInSpeed,l)}):"scroll"==o.displayType||e(i.dom.revealElem).show(0,function(){e(i.dom.contentID).css(o.direction,n+"px").show(),animationAction="right"==o.direction?{marginRight:distance+"px"}:{marginLeft:distance+"px"},e(i.dom.revealID).css("margin-"+o.direction,"0px").delay(20).animate(animationAction,time,"linear",l)})}()}function l(){i.play?(e(i.dom.contentID).delay(o.pauseOnItems).fadeOut(o.fadeOutSpeed),"fade"==o.displayType?e(i.dom.contentID).fadeOut(o.fadeOutSpeed,function(){e(i.dom.wrapperID).find(i.dom.revealElem+","+i.dom.contentID).hide().end().find(i.dom.tickerID+","+i.dom.revealID).show().end().find(i.dom.tickerID+","+i.dom.revealID).removeAttr("style"),a()}):e(i.dom.revealID).hide(0,function(){e(i.dom.contentID).fadeOut(o.fadeOutSpeed,function(){e(i.dom.wrapperID).find(i.dom.revealElem+","+i.dom.contentID).hide().end().find(i.dom.tickerID+","+i.dom.revealID).show().end().find(i.dom.tickerID+","+i.dom.revealID).removeAttr("style"),a()})})):e(i.dom.revealElem).hide()}function c(){i.play=!1,e(i.dom.tickerID+","+i.dom.revealID+","+i.dom.titleID+","+i.dom.titleElem+","+i.dom.revealElem+","+i.dom.contentID).stop(!0,!0),e(i.dom.revealID+","+i.dom.revealElem).hide(),e(i.dom.wrapperID).find(i.dom.titleID+","+i.dom.titleElem).show().end().find(i.dom.contentID).show()}function p(){i.play=!0,i.paused=!1,l()}function m(t){switch(c(),t){case"prev":0==i.position?i.position=s(i.newsArr)-2:1==i.position?i.position=s(i.newsArr)-1:i.position=i.position-2,e(i.dom.titleElem).html(i.newsArr["item-"+i.position].type),e(i.dom.contentID).html(i.newsArr["item-"+i.position].content);break;case"next":e(i.dom.titleElem).html(i.newsArr["item-"+i.position].type),e(i.dom.contentID).html(i.newsArr["item-"+i.position].content)}i.position==s(i.newsArr)-1?i.position=0:i.position++}"rtl"==o.direction?o.direction="right":o.direction="left",function t(){if(!1==i.contentLoaded){if(o.ajaxFeed)"xml"==o.feedType?e.ajax({url:o.feedUrl,cache:!1,dataType:o.feedType,async:!0,success:function(e){count=0;for(var t=0;t<e.childNodes.length;t++)"rss"==e.childNodes[t].nodeName&&(xmlContent=e.childNodes[t]);for(var n=0;n<xmlContent.childNodes.length;n++)"channel"==xmlContent.childNodes[n].nodeName&&(xmlChannel=xmlContent.childNodes[n]);for(var d=0;d<xmlChannel.childNodes.length;d++)if("item"==xmlChannel.childNodes[d].nodeName){xmlItems=xmlChannel.childNodes[d];for(var l,c=!1,p=0;p<xmlItems.childNodes.length;p++)"title"==xmlItems.childNodes[p].nodeName?l=xmlItems.childNodes[p].lastChild.nodeValue:"link"==xmlItems.childNodes[p].nodeName&&(c=xmlItems.childNodes[p].lastChild.nodeValue),!1!==l&&""!=l&&!1!==c&&(i.newsArr["item-"+count]={type:o.titleText,content:'<a href="'+c+'">'+l+"</a>"},count++,l=!1,c=!1)}if(s(i.newsArr<1))return r("Couldn't find any content from the XML feed for the ticker to use!"),!1;i.contentLoaded=!0,a()}}):r("Code Me!");else{if(!o.htmlFeed)return r("The ticker is set to not use any types of content! Check the settings for the ticker."),!1;if(!(e(n+" LI").length>0))return r("Couldn't find HTML any content for the ticker to use!"),!1;e(n+" LI").each(function(t){i.newsArr["item-"+t]={type:o.titleText,content:e(this).html()}})}}}(),e(n).wrap('<div id="'+i.dom.wrapperID.replace("#","")+'"></div>'),e(i.dom.wrapperID).children().remove(),e(i.dom.wrapperID).append('<div id="'+i.dom.tickerID.replace("#","")+'" class="ticker"><div id="'+i.dom.titleID.replace("#","")+'" class="ticker-title"><span><!-- --></span></div><p id="'+i.dom.contentID.replace("#","")+'" class="ticker-content"></p><div id="'+i.dom.revealID.replace("#","")+'" class="ticker-swipe"><span><!-- --></span></div></div>'),e(i.dom.wrapperID).removeClass("no-js").addClass("ticker-wrapper has-js "+o.direction),e(i.dom.tickerElem+","+i.dom.contentID).hide(),o.controls&&(e(i.dom.controlsID).on("click mouseover mousedown mouseout mouseup",function(t){var o=t.target.id;if("click"==t.type)switch(o){case i.dom.prevID.replace("#",""):i.paused=!0,e(i.dom.playPauseID).addClass("paused"),m("prev");break;case i.dom.nextID.replace("#",""):i.paused=!0,e(i.dom.playPauseID).addClass("paused"),m("next");break;case i.dom.playPauseID.replace("#",""):!0==i.play?(i.paused=!0,e(i.dom.playPauseID).addClass("paused"),c()):(i.paused=!1,e(i.dom.playPauseID).removeClass("paused"),p())}else"mouseover"==t.type&&e("#"+o).hasClass("controls")?e("#"+o).addClass("over"):"mousedown"==t.type&&e("#"+o).hasClass("controls")?e("#"+o).addClass("down"):"mouseup"==t.type&&e("#"+o).hasClass("controls")?e("#"+o).removeClass("down"):"mouseout"==t.type&&e("#"+o).hasClass("controls")&&e("#"+o).removeClass("over")}),e(i.dom.wrapperID).append('<ul id="'+i.dom.controlsID.replace("#","")+'" class="ticker-controls"><li id="'+i.dom.playPauseID.replace("#","")+'" class="jnt-play-pause controls"><a href=""><!-- --></a></li><li id="'+i.dom.prevID.replace("#","")+'" class="jnt-prev controls"><a href=""><!-- --></a></li><li id="'+i.dom.nextID.replace("#","")+'" class="jnt-next controls"><a href=""><!-- --></a></li></ul>')),"fade"!=o.displayType&&e(i.dom.contentID).mouseover(function(){!1==i.paused&&c()}).mouseout(function(){!1==i.paused&&p()}),o.ajaxFeed||a()})},e.fn.ticker.defaults={speed:.1,ajaxFeed:!1,feedUrl:"",feedType:"xml",displayType:"reveal",htmlFeed:!0,debugMode:!0,controls:!0,titleText:"",direction:"ltr",pauseOnItems:3e3,fadeInSpeed:600,fadeOutSpeed:300}}(jQuery);